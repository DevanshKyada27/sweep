# Sweep Config

In this article, we will explore ways to configure Sweep. Mainly, we will focus on the `sweep.yaml` file, which is the main configuration file for Sweep.

## Config Table
| Key | Type | Description |
| --- | --- | --- |
| `gha_enabled` | `bool` | Whether or not to enable GitHub Actions |
| `branch` | `str` | The branch to run on |
| `blocked_dirs` | `list` | A list of directories to ignore |
| `draft` | `bool` | Whether or not to create PRs as drafts |
| `description` | `str` | The description of the repository |
| `docs` | `dict` | A dictionary of documentation links |
| `sandbox` | `dict` | Sandbox settings for validating code changes |
| `rules` | `dict` | Leave chores for Sweep by following these rules |

---

## `gha_enabled`
```yaml
gha_enabled: True
```
Possible Values: True, False

This setting determines whether or not to enable GitHub Actions. If this is set to `False`, then Sweep will not read the results of GitHub Actions.

## `branch`
```yaml
branch: main
```
This setting determines which branch Sweep will develop from and make pull requests to.

## `blocked_dirs`
```yaml
blocked_dirs: [".github/", "other_dir"]
```
This setting lists all of the directories that Sweep will not be able to edit. In our example, Sweep is unable to modify the `.github` folder as we do not want Sweep to modify our GitHub Actions.

## `draft`
```yaml
draft: False
```
Possible Values: True, False

This setting determines whether or not to create pull requests as drafts. If this is set to `True`, then all pull requests will be created as drafts and **GitHub Actions will not be triggered**.

## `description`
```yaml
description: "project description and standards to follow"
```
This setting is the description of the repository that will be passed to Sweep. Please include details that Sweep may need to understand the repository. You may also include details about standards to follow here.

## `docs`
```yaml
docs:
  - Modal: ["https://modal.com/docs/reference", "Modal is used for serverless deployment"]
  - PyGitHub: ["https://pygithub.readthedocs.io/en/latest/", "PyGitHub is used for interacting with GitHub"]
```
This setting contains documentation links that Sweep is able to search through. This is helpful for packages with syntax that has changed or newer packages.

**Important**: Please contact us if you would like to add a documentation link so we can add it to our database.

## `sandbox`
```yml
sandbox:
  install:
    - apt install python3.11 -y
    - pip install poetry
    - poetry env use python3.11
    - poetry install
  check:
    - poetry run pylint --errors-only {file_path}
```

Sandbox executes commands in a sandboxed environment to validate code changes after every edit to guarantee pristine code. For more details, see the [Sandbox](./sandbox) page.

## `rules`
```yml
rules:
 - There should not be commented out code.
 - Update UPDATES_MESSAGE section in sweepai/config/client.py if there is a major new feature.
 - Update docs/pages/usage/config.mdx for changes that affect sweep.yaml.
 - Add appropriate documentation when large new features are released. Make sure all envvars are documented in sweepai/config/server.py
 - Make sure all error logs use traceback and any unnecessary info logs are deleted.
```

This setting contains a list of rules that Sweep will check for. If any of these rules are broken in a new commit, Sweep will create an pull request to fix the broken rule.

---

## Our Configuration File
This file is available [here](https://github.com/sweepai/sweep/blob/main/sweep.yaml). We have pasted this file below for your convenience.

```yaml
gha_enabled: True
branch: main
blocked_dirs: [".github/"]
draft: False
description: "sweepai/sweep is a python 3.10 project. The main api endpoints are in sweepai/api.py. Write code that adheres to PEP8."
docs:
  - Modal: https://modal.com/docs/reference
  - PyGitHub: https://pygithub.readthedocs.io/en/latest/

sandbox:
  install:
    - apt install python3.11 -y
    - pip install poetry
    - poetry env use python3.11
    - poetry install
  check:
    - poetry run pylint --errors-only {file_path}

rules:
 - There should not be commented out code.
 - Update UPDATES_MESSAGE section in sweepai/config/client.py if there is a major new feature.
 - Update docs/pages/usage/config.mdx for changes that affect sweep.yaml.
 - Add appropriate documentation when large new features are released. Make sure all envvars are documented in sweepai/config/server.py
 - Make sure all error logs use traceback and any unnecessary info logs are deleted.
```
